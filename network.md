# KTB 클라우드 과정 필기 노트 / 7월 4일 (4일차)


## 강의 전 사전 평가 간단 리뷰?
- Linux
- Docker
  - Container Runtime
- Kubernetes
- AWS
- CI/CD

## 목차
1. 네트워크란?
2. OSI 7 Layer
3. Network Address & Host Address?
4. Encapsulation & Decapsulation

## 네트워크를 왜 알아야 하는걸까?
- 통신이나 데이터 교환
	- 컴퓨터와 다른 장치들이 서로 통신하고 데이터를 교환할 수 있게 함
- 분산시스템 및 클라우드 컴퓨팅
	- 여러 컴퓨터가 네트워크를 통해 상호작용하여 하나의 시스템처럼 작동하는 기술 -> 대규모 데이터 처리 및 저장 분석 등
- 보안
	- 해킹, 데이터유출, 피싱 등 네트워크를 통한 다양한 공격들이 존재 -> 이를 방지하기 위한 네트워크 프로토콜에 대한 지식 필요

## 네트워크에서 알아야 할 것은?
- 네트워크 종류
	- LAN, VPN, WLAN, WAN, ...
- 용어
	- IP, 노드, 
	등등

## OSI 7 Layer
```
7Layer 
Application Layer 
HTTP, HTTPS, FTP, Telnet, DNS, 등등
사용자나 애플리케이션이 네트워크에 접근할 수 있도록 인터페이스 제공
```
```
6Layer
Presentation Layer
SSL/TLS, JPEG, GIF, PNG, ASCII, etc..
데이터의 형식 설정, 암호화 압축 등의 작업 수행.
```
```
5Layer
Session Layer
NetBIOS, PPTP, RPC, SMB, SAP
통신 세션 설정, 유지, 종료를 담당.
```
```
4Layer
Transport Layer
TCP, UDP, SCTP, DCCP
데이터 전송의 신뢰성, 흐름 제어, 오류 검출 및 수정 기능 제공.
```
```
3Layer
Network Layer
IP, ICMP, IPSec, IGMP
네트워크에서의 데이터 패킷의 경로 선택 및 주소 지정을 담당. 라우터를 통한 패킷 전송과 라우팅 테이블 관리 역할을 수행.
```
```
2Layer
Data Link Layer
Ethernet, PPP, Frame Relay, ARP, MAC
프레임을 통한 물리적 네트워크 구조 안에서 데이터의 신뢰성 있는 전송을 보장. MAC 주소를 사용하여 프레임의 오류 검출 및 흐름 제어 수행.
```
```
1Layer
Physical Layer
Ethernet, DSL, ISDN, USB, Bluetooth
물리적 매체를 통해 비트 전송을 담당. 케이블, 카드, 기타 하드웨어를 포함하여 데이터의 전기적, 기계적, 절차적 세부사항을 규정.
```

## 데이터 링크 계층 프로토콜
- Ethernet
	- 유선 네트워크에서 가장 널리 사용되는 기술로, LAN(Local Area Network)에서 데이터 전송을 위해 사용
	- 데이터를 프레임(frame)이라는 단위로 나누어 전송 -> 프레임은 MAC 주소, 데이터, 오류 검출 코드 등을 포함
	- MAC 주소는 네트워크 인터페이스에 고유한 식별자로, 48비트(6바이트)로 구성되어 있으며, 네트워크 상에서 장치를 구별하는 데 사용

- Bridge
	- 네트워크 세그먼트를 서로 연결해 주는 장치, 처리방식 -> 소프트웨어 방식
		- 하나의 네트워크망 안에서 서로 다른 LAN을 연결
		- MAC 주소 기반 필터링 기능을 통해 더 나은 대역폭을 제공, 트래픽 통제

- Switch
	- 목적지의 MAC 주소를 가지고 있는 포트에만 프레임을 전송, 처리방식 -> 하드웨어
	- 단일 장치로만 데이터를 전송, 장치를 상호 연결하는 데만 사용 -> 계층별로 구분 (L2, L3, L4, L7) 가능 


## 네트워크 계층 프로토콜

- IP(Internet Protocol)
	- 송신, 수신 간의 패킷 단위로 데이터를 교환하는 네트워크에서 정보를 주고 받는 데 사용하는 통신규약
	- 호스트의 주소 지정과 패킷 분할 및 조립 기능을 담당

- Ipv4 구조 대충 봤음

- wireshark로 실습 예정

- IPv4 주소 구성 및 헤더
	- Ipv4는 32비트로 이루어져 있으며, 그 크기는 약 42억개를 나타낼 수 있기 때문에 IP로 충분하다고 생각할 수 있지만, 현대 사회는 노트북, PC, 스마트폰, 너무 많은 기기들이 존재하고 있기 때문에 Ipv4가 부족하여, 개별적으로 부여할 수 없음
	- 이를 지원하기 위하여 네트워크 클래스가 등장

- Network Address & Host Address 관리
	- 서브넷 : 네트워크가 분할되어 나눠진 작은 네트워크
	- 서브넷팅 : 서브넷을 만들기 위하여 네트워크를 분할
	- 세브넷 마스크 : 서브넷팅을 하기 위하여 네트워크의 호스트 부분과 네트워크 부분을 나누는 역할
	- CIDR (Prefix) : 서브넷 마스크를 간소화하여 표현, 클래스 없는 도메인 간 라우팅(IP 주소 할당)

- Router
	- 데이터 패킷이 네트워크를 통과하여 대상에 도달하는 경로를 선택
		- 다양한 동적/정적 라우팅 프로토콜을 통하여 경로 탐색 가능
	- 서로 다른 네트워크에 연결하고 인터넷을 구성하는 LAN,  WAB 등 네트워크로 데이터 전달

- NAT(Netwokr Address Translation)
	- 외부 통신은 Private IP 주소로는 외부와 통신할 수 없으며, 공인 IP 주소로 통신 가능
	- Private IP를 Public IP로 변환해주고, 외부에서는 공인 IP처럼 확인
		- 내부로 패킷이 접근되었을 때는 어떤 Private IP로 들어왔는지 확인 후 Private IP로 패킷 전달
		- 일반적으로 라투어 등에 NAT 기능이 포함되어 있고, 그 중 대표적인게 공유기


## 전송 계층 특징
- TCP (Transmission Control Protocol)
	- TCP는 인터넷과 같은 네트워크에서 데이터를 신뢰성 있게 전송하기 위해 설계된 연결 지향형 프로토콜
	- TCP는 데이터 전송의 정확성과 순서를 보장하기 위해 여러 가지 메커니즘을 사용
	- 3-way Hand Shake

- UDP (User Datagram Protocol)
	- UDP는 데이터를 빠르고 효율적으로 전송하기 위해 설계된 비연결형 프로토콜
	- UDP는 데이터 전송의 신뢰성과 순서를 보장하지 않지만, 전송 속도와 효율성이 중요한 애플리케이션에 적합
	- 비신뢰성과 비연결형 프로토콜? -> 데이터그램?, 스트리밍?, 전송 순서?


## 응용 계층 프로토콜
- HTTP
	- 서버/클라이언트 모델에 따라 데이터를 주고 받기 위한 프로토콜, 결국 TCP/IP 위에서 작동하는 프로토콜
	- TCP / IP를 이용하는 응용 프로토콜
	- HTTP는 연결 상태를 유지하지 않는 비연결성 프로토콜
		- Cookie 와 Session이 등장 -> 쿠키는 사용자를 식별, 이는 비연결성과 비상태성을 보완해줌
		- HTTP는 연결을 유지하지 않는 프로토콜이기 때문에 요청/응답 방식으로 동작
	- 암호화가 되지 않은 평문 데이터를 전송하는 프로토콜이므로 위함하다. -> 그래서 HTTPS 사용
	- HTTP Response : State Code (2xx 성공, 3xx 리다이렉션, 4xx 클라이언트 오류, 5xx 서버 오류)

- Man In The Middle(MITM)
	- 출발지와 목적지 사이에 다른 무언가가 낀다?
	- curl 명령어를 언급함

## Encapsulation & Decapsulation
- 계층별 데이터 송수신
 
> 까지 !~


## 실습 1
- wireshark를 사용하여, 네트워크 패킷 캡쳐
	- 실제 웹 사이트에 요청하여, 네트워크 패킷 캡쳐 하기
	- 캡쳐 된 패킷에 대하여 패킷 구조에 맞게 확인해보기

## 실습 2













